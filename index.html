<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExamPrep Pro - Study Smarter</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            max-width: 500px;
            margin: 0 auto;
            box-shadow: 0 0 30px rgba(0,0,0,0.1);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        /* App Container */
        .app-container {
            opacity: 1;
            transition: opacity 0.3s;
        }
        
        .app-container.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        /* Header Styles */
        .app-header {
            background: linear-gradient(135deg, #4a6ee0 0%, #6a11cb 100%);
            color: white;
            padding: 20px 15px;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-weight: 700;
            font-size: 22px;
        }
        
        .logo i {
            margin-right: 10px;
            font-size: 24px;
        }
        
        .user-profile {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .user-profile:hover {
            background-color: rgba(255,255,255,0.3);
        }
        
        .search-bar {
            display: flex;
            background-color: rgba(255,255,255,0.15);
            border-radius: 25px;
            padding: 10px 15px;
            align-items: center;
        }
        
        .search-bar input {
            background: transparent;
            border: none;
            outline: none;
            color: white;
            flex: 1;
            margin-left: 10px;
            font-size: 16px;
        }
        
        .search-bar input::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        /* Notification Badge */
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #ff6b6b;
            color: white;
            font-size: 12px;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        /* Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            box-shadow: 0 -3px 15px rgba(0,0,0,0.08);
            max-width: 500px;
            margin: 0 auto;
            z-index: 100;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #888;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            padding: 5px;
        }
        
        .nav-item.active {
            color: #4a6ee0;
        }
        
        .nav-item i {
            font-size: 20px;
            margin-bottom: 5px;
        }
        
        .nav-item:hover {
            color: #4a6ee0;
        }
        
        /* Main Content */
        .main-content {
            padding: 20px 15px 80px;
            min-height: calc(100vh - 130px);
        }
        
        .section-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .see-all {
            color: #4a6ee0;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .see-all:hover {
            color: #3a5ed0;
            text-decoration: underline;
        }
        
        /* Dashboard Stats */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        }
        
        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 22px;
            color: white;
        }
        
        .stat-1 {
            background-color: #ff6b6b;
        }
        
        .stat-2 {
            background-color: #4ecdc4;
        }
        
        .stat-3 {
            background-color: #ffd166;
        }
        
        .stat-4 {
            background-color: #6a0572;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            line-height: 1;
        }
        
        .stat-label {
            font-size: 14px;
            color: #777;
            margin-top: 5px;
        }
        
        /* Subject Cards */
        .subjects-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .subject-card {
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .subject-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        }
        
        .subject-icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            font-size: 28px;
            color: white;
        }
        
        .math {
            background: linear-gradient(135deg, #4a6ee0, #6a11cb);
        }
        
        .science {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
        }
        
        .english {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
        }
        
        .history {
            background: linear-gradient(135deg, #ffd166, #ff9e6d);
        }
        
        .subject-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .subject-progress {
            font-size: 14px;
            color: #777;
        }
        
        /* Practice Test Cards */
        .practice-tests {
            margin-bottom: 25px;
        }
        
        .test-card {
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .test-card:hover {
            transform: translateX(5px);
        }
        
        .test-info h3 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .test-info p {
            font-size: 14px;
            color: #777;
        }
        
        .test-action {
            background-color: #4a6ee0;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 10px 20px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .test-action:hover {
            background-color: #3a5ed0;
        }
        
        /* Quiz Screen */
        .quiz-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: white;
            z-index: 200;
            padding: 20px;
            overflow-y: auto;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .quiz-progress {
            width: 100%;
            height: 8px;
            background-color: #eee;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .quiz-progress-bar {
            height: 100%;
            background-color: #4a6ee0;
            width: 10%;
            border-radius: 4px;
            transition: width 0.5s;
        }
        
        .quiz-question {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 30px;
            line-height: 1.4;
        }
        
        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .quiz-option {
            background-color: #f5f7fa;
            border-radius: 12px;
            padding: 18px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .quiz-option:hover {
            background-color: #eef1f8;
        }
        
        .quiz-option.selected {
            border-color: #4a6ee0;
            background-color: #eef1f8;
        }
        
        .quiz-option.correct {
            border-color: #4ecdc4;
            background-color: rgba(78, 205, 196, 0.1);
        }
        
        .quiz-option.incorrect {
            border-color: #ff6b6b;
            background-color: rgba(255, 107, 107, 0.1);
        }
        
        .quiz-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .quiz-btn {
            padding: 15px 30px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .quiz-prev {
            background-color: #f5f7fa;
            color: #333;
        }
        
        .quiz-prev:hover {
            background-color: #e8ecf4;
        }
        
        .quiz-next {
            background-color: #4a6ee0;
            color: white;
        }
        
        .quiz-next:hover {
            background-color: #3a5ed0;
        }
        
        /* Results Screen */
        .results-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: white;
            z-index: 200;
            padding: 40px 20px;
            text-align: center;
            max-width: 500px;
            margin: 0 auto;
            overflow-y: auto;
        }
        
        .results-icon {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            font-size: 50px;
            color: white;
        }
        
        .results-score {
            font-size: 48px;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }
        
        .results-text {
            font-size: 20px;
            color: #777;
            margin-bottom: 30px;
        }
        
        .results-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 40px;
        }
        
        .result-stat {
            text-align: center;
        }
        
        .result-stat-value {
            font-size: 28px;
            font-weight: 700;
            color: #4a6ee0;
        }
        
        .result-stat-label {
            font-size: 14px;
            color: #777;
            margin-top: 5px;
        }
        
        .results-actions {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .results-btn {
            padding: 18px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .review-btn {
            background-color: #f5f7fa;
            color: #333;
        }
        
        .review-btn:hover {
            background-color: #e8ecf4;
        }
        
        .home-btn {
            background-color: #4a6ee0;
            color: white;
        }
        
        .home-btn:hover {
            background-color: #3a5ed0;
        }
        
        /* Profile Screen */
        .profile-screen, .study-screen, .progress-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: white;
            z-index: 150;
            max-width: 500px;
            margin: 0 auto;
            overflow-y: auto;
        }
        
        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .profile-pic {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4a6ee0, #6a11cb);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            font-size: 36px;
            color: white;
        }
        
        .profile-info h2 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .profile-info p {
            color: #777;
            font-size: 16px;
        }
        
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
            text-align: center;
        }
        
        .profile-menu {
            background-color: white;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
        }
        
        .menu-item {
            display: flex;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .menu-item:hover {
            background-color: #f9f9f9;
        }
        
        .menu-item:last-child {
            border-bottom: none;
        }
        
        .menu-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background-color: #f0f5ff;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: #4a6ee0;
            font-size: 18px;
        }
        
        .menu-text {
            flex: 1;
            font-size: 16px;
            font-weight: 500;
        }
        
        /* Study Screen */
        .study-cards {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .study-card {
            background-color: white;
            border-radius: 15px;
            padding: 25px 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .study-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        }
        
        .study-card i {
            font-size: 40px;
            color: #4a6ee0;
            margin-bottom: 15px;
        }
        
        .study-card h3 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .study-card p {
            color: #777;
            font-size: 14px;
            line-height: 1.5;
        }
        
        /* Progress Screen */
        .progress-chart {
            background-color: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
            text-align: center;
        }
        
        .chart-placeholder {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: conic-gradient(#4a6ee0 0% 65%, #4ecdc4 65% 85%, #ffd166 85% 95%, #ff6b6b 95% 100%);
            margin: 0 auto 20px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .chart-center {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background-color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .chart-score {
            font-size: 32px;
            font-weight: 700;
            color: #333;
        }
        
        .chart-label {
            font-size: 14px;
            color: #777;
        }
        
        .progress-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .detail-card {
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .detail-card:hover {
            transform: translateY(-5px);
        }
        
        .detail-value {
            font-size: 28px;
            font-weight: 700;
            color: #4a6ee0;
            margin-bottom: 5px;
        }
        
        .detail-label {
            font-size: 14px;
            color: #777;
        }
        
        /* Flashcard Screen */
        .flashcard-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: white;
            z-index: 200;
            padding: 20px;
            max-width: 500px;
            margin: 0 auto;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .flashcard {
            width: 100%;
            height: 350px;
            perspective: 1000px;
            margin-bottom: 30px;
        }
        
        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
            cursor: pointer;
        }
        
        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }
        
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .flashcard-front {
            background: linear-gradient(135deg, #4a6ee0, #6a11cb);
            color: white;
        }
        
        .flashcard-back {
            background-color: white;
            color: #333;
            transform: rotateY(180deg);
            border: 2px solid #f0f0f0;
        }
        
        .flashcard-category {
            font-size: 16px;
            opacity: 0.8;
            margin-bottom: 10px;
        }
        
        .flashcard-term {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 20px;
        }
        
        .flashcard-hint {
            font-size: 14px;
            opacity: 0.7;
            margin-top: 20px;
        }
        
        .flashcard-definition {
            font-size: 22px;
            line-height: 1.5;
            margin-bottom: 20px;
        }
        
        .flashcard-example {
            font-size: 16px;
            color: #666;
            font-style: italic;
            margin-top: 20px;
        }
        
        .flashcard-actions {
            display: flex;
            justify-content: space-between;
            width: 100%;
        }
        
        .flashcard-btn {
            padding: 15px 25px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .flashcard-again {
            background-color: #ff6b6b;
            color: white;
        }
        
        .flashcard-again:hover {
            background-color: #ff5252;
        }
        
        .flashcard-flip {
            background-color: #f5f7fa;
            color: #333;
        }
        
        .flashcard-flip:hover {
            background-color: #e8ecf4;
        }
        
        .flashcard-next {
            background-color: #4ecdc4;
            color: white;
        }
        
        .flashcard-next:hover {
            background-color: #3ebcb4;
        }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #4a6ee0;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 300;
            display: flex;
            align-items: center;
            transform: translateX(150%);
            transition: transform 0.5s;
            max-width: 300px;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        .toast i {
            margin-right: 10px;
            font-size: 20px;
        }
        
        /* Loading Spinner */
        .loading-spinner {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255,255,255,0.9);
            z-index: 400;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #4a6ee0;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Responsive adjustments */
        @media (max-width: 500px) {
            .stats-container, .subjects-container, .study-cards, .progress-details {
                grid-template-columns: 1fr;
            }
            
            .quiz-question {
                font-size: 20px;
            }
            
            .flashcard-term {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toastMessage">Action completed successfully!</span>
    </div>
    
    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner">
        <div class="spinner"></div>
        <p>Loading content...</p>
    </div>
    
    <!-- Main App Dashboard -->
    <div class="app-container" id="appContainer">
        <!-- Header -->
        <header class="app-header">
            <div class="header-top">
                <div class="logo">
                    <i class="fas fa-graduation-cap"></i>
                    <span>ExamPrep Pro</span>
                </div>
                <div class="user-profile" id="profileButton">
                    <i class="fas fa-user"></i>
                    <div class="notification-badge">3</div>
                </div>
            </div>
            
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search for topics, tests, or flashcards..." id="searchInput">
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="main-content">
            <h2 class="section-title">Welcome back, Alex!</h2>
            
            <!-- Stats Overview -->
            <div class="stats-container">
                <div class="stat-card" id="statStudyHours">
                    <div class="stat-icon stat-1">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div>
                        <div class="stat-value">42</div>
                        <div class="stat-label">Study Hours</div>
                    </div>
                </div>
                
                <div class="stat-card" id="statAvgScore">
                    <div class="stat-icon stat-2">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div>
                        <div class="stat-value">87%</div>
                        <div class="stat-label">Avg. Score</div>
                    </div>
                </div>
                
                <div class="stat-card" id="statTopics">
                    <div class="stat-icon stat-3">
                        <i class="fas fa-book"></i>
                    </div>
                    <div>
                        <div class="stat-value">156</div>
                        <div class="stat-label">Topics Covered</div>
                    </div>
                </div>
                
                <div class="stat-card" id="statStreak">
                    <div class="stat-icon stat-4">
                        <i class="fas fa-fire"></i>
                    </div>
                    <div>
                        <div class="stat-value">14</div>
                        <div class="stat-label">Day Streak</div>
                    </div>
                </div>
            </div>
            
            <!-- Subjects -->
            <div class="section-title">
                My Subjects
                <span class="see-all" id="seeAllSubjects">See All</span>
            </div>
            
            <div class="subjects-container">
                <div class="subject-card" data-subject="math" id="mathSubject">
                    <div class="subject-icon math">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <div class="subject-name">Mathematics</div>
                    <div class="subject-progress">24/30 topics mastered</div>
                </div>
                
                <div class="subject-card" data-subject="science" id="scienceSubject">
                    <div class="subject-icon science">
                        <i class="fas fa-flask"></i>
                    </div>
                    <div class="subject-name">Science</div>
                    <div class="subject-progress">18/28 topics mastered</div>
                </div>
                
                <div class="subject-card" data-subject="english" id="englishSubject">
                    <div class="subject-icon english">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <div class="subject-name">English</div>
                    <div class="subject-progress">22/25 topics mastered</div>
                </div>
                
                <div class="subject-card" data-subject="history" id="historySubject">
                    <div class="subject-icon history">
                        <i class="fas fa-landmark"></i>
                    </div>
                    <div class="subject-name">History</div>
                    <div class="subject-progress">15/20 topics mastered</div>
                </div>
            </div>
            
            <!-- Practice Tests -->
            <div class="section-title">
                Recommended Tests
                <span class="see-all" id="seeAllTests">See All</span>
            </div>
            
            <div class="practice-tests">
                <div class="test-card" id="mathTest">
                    <div class="test-info">
                        <h3>Mathematics - Advanced Algebra</h3>
                        <p>30 questions • 45 minutes • Difficulty: Medium</p>
                    </div>
                    <button class="test-action" id="startMathTest">Start</button>
                </div>
                
                <div class="test-card" id="scienceTest">
                    <div class="test-info">
                        <h3>Science - Biology Basics</h3>
                        <p>25 questions • 35 minutes • Difficulty: Easy</p>
                    </div>
                    <button class="test-action" id="startScienceTest">Start</button>
                </div>
                
                <div class="test-card" id="englishTest">
                    <div class="test-info">
                        <h3>English - Grammar & Composition</h3>
                        <p>20 questions • 30 minutes • Difficulty: Medium</p>
                    </div>
                    <button class="test-action" id="startEnglishTest">Start</button>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="section-title">
                Quick Actions
            </div>
            
            <div class="subjects-container">
                <div class="subject-card" id="quickFlashcards">
                    <div class="subject-icon math">
                        <i class="fas fa-layer-group"></i>
                    </div>
                    <div class="subject-name">Flashcards</div>
                    <div class="subject-progress">Review 50 cards</div>
                </div>
                
                <div class="subject-card" id="quickProgress">
                    <div class="subject-icon science">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="subject-name">Progress Report</div>
                    <div class="subject-progress">View your stats</div>
                </div>
            </div>
        </main>
        
        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <div class="nav-item active" data-screen="dashboard" id="navDashboard">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </div>
            <div class="nav-item" data-screen="study" id="navStudy">
                <i class="fas fa-book"></i>
                <span>Study</span>
            </div>
            <div class="nav-item" data-screen="progress" id="navProgress">
                <i class="fas fa-chart-line"></i>
                <span>Progress</span>
            </div>
            <div class="nav-item" data-screen="profile" id="navProfile">
                <i class="fas fa-user"></i>
                <span>Profile</span>
            </div>
        </nav>
    </div>
    
    <!-- Quiz Screen -->
    <div class="quiz-screen" id="quizScreen">
        <div class="quiz-header">
            <div class="logo">
                <i class="fas fa-graduation-cap"></i>
                <span id="quizSubject">Mathematics Test</span>
            </div>
            <div style="font-weight: 600; color: #4a6ee0;" id="quizCounter">Question 1/10</div>
        </div>
        
        <div class="quiz-progress">
            <div class="quiz-progress-bar" id="quizProgressBar"></div>
        </div>
        
        <div class="quiz-question" id="quizQuestion">
            Loading question...
        </div>
        
        <div class="quiz-options" id="quizOptions">
            <!-- Options will be populated by JavaScript -->
        </div>
        
        <div class="quiz-actions">
            <button class="quiz-btn quiz-prev" id="quizPrev">Previous</button>
            <button class="quiz-btn quiz-next" id="quizNext">Next Question</button>
        </div>
    </div>
    
    <!-- Results Screen -->
    <div class="results-screen" id="resultsScreen">
        <div class="results-icon" id="resultsIcon">
            <i class="fas fa-trophy"></i>
        </div>
        
        <div class="results-score" id="finalScore">85%</div>
        <div class="results-text" id="resultsText">Great job! You passed the test.</div>
        
        <div class="results-stats">
            <div class="result-stat">
                <div class="result-stat-value" id="correctAnswers">8</div>
                <div class="result-stat-label">Correct</div>
            </div>
            <div class="result-stat">
                <div class="result-stat-value" id="totalQuestions">10</div>
                <div class="result-stat-label">Total</div>
            </div>
            <div class="result-stat">
                <div class="result-stat-value" id="timeSpent">12:45</div>
                <div class="result-stat-label">Time</div>
            </div>
        </div>
        
        <div class="results-actions">
            <button class="results-btn review-btn" id="reviewTest">Review Answers</button>
            <button class="results-btn home-btn" id="resultsHome">Back to Home</button>
        </div>
    </div>
    
    <!-- Profile Screen -->
    <div class="profile-screen" id="profileScreen">
        <header class="app-header">
            <div class="header-top">
                <div class="logo">
                    <i class="fas fa-user"></i>
                    <span>My Profile</span>
                </div>
                <div class="user-profile" id="backFromProfile">
                    <i class="fas fa-arrow-left"></i>
                </div>
            </div>
        </header>
        
        <main class="main-content">
            <div class="profile-header">
                <div class="profile-pic">
                    <i class="fas fa-user"></i>
                </div>
                <div class="profile-info">
                    <h2>Alex Johnson</h2>
                    <p>Premium Member • Student</p>
                </div>
            </div>
            
            <div class="profile-stats">
                <div class="result-stat">
                    <div class="result-stat-value">156</div>
                    <div class="result-stat-label">Topics</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-value">87%</div>
                    <div class="result-stat-label">Avg Score</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-value">14</div>
                    <div class="result-stat-label">Day Streak</div>
                </div>
            </div>
            
            <div class="profile-menu">
                <div class="menu-item" id="editProfile">
                    <div class="menu-icon">
                        <i class="fas fa-edit"></i>
                    </div>
                    <div class="menu-text">Edit Profile</div>
                    <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                </div>
                <div class="menu-item" id="studyHistory">
                    <div class="menu-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <div class="menu-text">Study History</div>
                    <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                </div>
                <div class="menu-item" id="achievements">
                    <div class="menu-icon">
                        <i class="fas fa-medal"></i>
                    </div>
                    <div class="menu-text">Achievements</div>
                    <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                </div>
                <div class="menu-item" id="notifications">
                    <div class="menu-icon">
                        <i class="fas fa-bell"></i>
                    </div>
                    <div class="menu-text">Notifications</div>
                    <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                    <span class="notification-badge">3</span>
                </div>
                <div class="menu-item" id="settings">
                    <div class="menu-icon">
                        <i class="fas fa-cog"></i>
                    </div>
                    <div class="menu-text">Settings</div>
                    <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                </div>
                <div class="menu-item" id="helpSupport">
                    <div class="menu-icon">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <div class="menu-text">Help & Support</div>
                    <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                </div>
                <div class="menu-item" id="logout">
                    <div class="menu-icon">
                        <i class="fas fa-sign-out-alt"></i>
                    </div>
                    <div class="menu-text">Log Out</div>
                    <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Study Screen -->
    <div class="study-screen" id="studyScreen">
        <header class="app-header">
            <div class="header-top">
                <div class="logo">
                    <i class="fas fa-book"></i>
                    <span>Study Materials</span>
                </div>
                <div class="user-profile" id="backFromStudy">
                    <i class="fas fa-arrow-left"></i>
                </div>
            </div>
        </header>
        
        <main class="main-content">
            <div class="section-title">
                Study Resources
            </div>
            
            <div class="study-cards">
                <div class="study-card" id="flashcards">
                    <i class="fas fa-layer-group"></i>
                    <h3>Flashcards</h3>
                    <p>Interactive flashcards to memorize key concepts and definitions quickly.</p>
                </div>
                
                <div class="study-card" id="videoLessons">
                    <i class="fas fa-play-circle"></i>
                    <h3>Video Lessons</h3>
                    <p>Engaging video tutorials explaining complex topics in simple terms.</p>
                </div>
                
                <div class="study-card" id="practiceQuestions">
                    <i class="fas fa-question-circle"></i>
                    <h3>Practice Questions</h3>
                    <p>Thousands of practice questions with detailed explanations.</p>
                </div>
                
                <div class="study-card" id="mockExams">
                    <i class="fas fa-clipboard-check"></i>
                    <h3>Mock Exams</h3>
                    <p>Full-length simulated exams to test your knowledge under real conditions.</p>
                </div>
            </div>
            
            <div class="section-title" style="margin-top: 30px;">
                Recent Study Sessions
            </div>
            
            <div class="practice-tests">
                <div class="test-card" id="recentAlgebra">
                    <div class="test-info">
                        <h3>Algebra Basics</h3>
                        <p>Studied 2 hours ago • 15 flashcards reviewed</p>
                    </div>
                    <button class="test-action">Continue</button>
                </div>
                
                <div class="test-card" id="recentBiology">
                    <div class="test-info">
                        <h3>Biology: Cell Structure</h3>
                        <p>Studied yesterday • 87% mastery achieved</p>
                    </div>
                    <button class="test-action">Review</button>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Progress Screen -->
    <div class="progress-screen" id="progressScreen">
        <header class="app-header">
            <div class="header-top">
                <div class="logo">
                    <i class="fas fa-chart-line"></i>
                    <span>My Progress</span>
                </div>
                <div class="user-profile" id="backFromProgress">
                    <i class="fas fa-arrow-left"></i>
                </div>
            </div>
        </header>
        
        <main class="main-content">
            <div class="progress-chart">
                <h3 style="margin-bottom: 20px; text-align: center;">Overall Mastery</h3>
                <div class="chart-placeholder">
                    <div class="chart-center">
                        <div class="chart-score">78%</div>
                        <div class="chart-label">Mastery</div>
                    </div>
                </div>
                <p style="color: #777; margin-top: 15px;">You're doing great! Keep studying to improve your scores.</p>
            </div>
            
            <div class="progress-details">
                <div class="detail-card" id="detailTopics">
                    <div class="detail-value">156</div>
                    <div class="detail-label">Topics Studied</div>
                </div>
                <div class="detail-card" id="detailHours">
                    <div class="detail-value">42</div>
                    <div class="detail-label">Study Hours</div>
                </div>
                <div class="detail-card" id="detailTests">
                    <div class="detail-value">24</div>
                    <div class="detail-label">Tests Completed</div>
                </div>
                <div class="detail-card" id="detailStreak">
                    <div class="detail-value">14</div>
                    <div class="detail-label">Day Streak</div>
                </div>
            </div>
            
            <div class="section-title" style="margin-top: 30px;">
                Subject Breakdown
            </div>
            
            <div class="subjects-container">
                <div class="subject-card" id="progressMath">
                    <div class="subject-icon math">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <div class="subject-name">Mathematics</div>
                    <div class="subject-progress">80% mastery</div>
                </div>
                
                <div class="subject-card" id="progressScience">
                    <div class="subject-icon science">
                        <i class="fas fa-flask"></i>
                    </div>
                    <div class="subject-name">Science</div>
                    <div class="subject-progress">75% mastery</div>
                </div>
                
                <div class="subject-card" id="progressEnglish">
                    <div class="subject-icon english">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <div class="subject-name">English</div>
                    <div class="subject-progress">85% mastery</div>
                </div>
                
                <div class="subject-card" id="progressHistory">
                    <div class="subject-icon history">
                        <i class="fas fa-landmark"></i>
                    </div>
                    <div class="subject-name">History</div>
                    <div class="subject-progress">70% mastery</div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Flashcard Screen -->
    <div class="flashcard-screen" id="flashcardScreen">
        <div class="flashcard" id="flashcard">
            <div class="flashcard-inner">
                <div class="flashcard-front">
                    <div class="flashcard-category" id="flashcardCategory">Mathematics</div>
                    <div class="flashcard-term" id="flashcardTerm">Quadratic Equation</div>
                    <div class="flashcard-hint">Click to flip the card</div>
                </div>
                <div class="flashcard-back">
                    <div class="flashcard-definition" id="flashcardDefinition">
                        A quadratic equation is any equation that can be rearranged in the form ax² + bx + c = 0, where a, b, and c are constants and a ≠ 0.
                    </div>
                    <div class="flashcard-example" id="flashcardExample">
                        Example: x² - 5x + 6 = 0
                    </div>
                </div>
            </div>
        </div>
        
        <div class="flashcard-actions">
            <button class="flashcard-btn flashcard-again" id="flashcardAgain">Again</button>
            <button class="flashcard-btn flashcard-flip" id="flashcardFlip">Flip Card</button>
            <button class="flashcard-btn flashcard-next" id="flashcardNext">Next</button>
        </div>
    </div>

    <script>
        // ========== APP STATE & DATA ==========
        const appState = {
            currentScreen: 'dashboard',
            currentUser: {
                name: 'Alex Johnson',
                stats: {
                    studyHours: 42,
                    avgScore: 87,
                    topicsCovered: 156,
                    dayStreak: 14,
                    overallMastery: 78
                }
            },
            quiz: {
                currentQuestion: 0,
                score: 0,
                subject: '',
                questions: [],
                userAnswers: [],
                startTime: null
            },
            flashcards: {
                currentIndex: 0,
                cards: [
                    {
                        category: 'Mathematics',
                        term: 'Quadratic Equation',
                        definition: 'A quadratic equation is any equation that can be rearranged in the form ax² + bx + c = 0, where a, b, and c are constants and a ≠ 0.',
                        example: 'Example: x² - 5x + 6 = 0'
                    },
                    {
                        category: 'Science',
                        term: 'Photosynthesis',
                        definition: 'The process by which green plants and some other organisms use sunlight to synthesize foods from carbon dioxide and water.',
                        example: '6CO₂ + 6H₂O → C₆H₁₂O₆ + 6O₂'
                    },
                    {
                        category: 'English',
                        term: 'Metaphor',
                        definition: 'A figure of speech that describes an object or action in a way that isn’t literally true, but helps explain an idea or make a comparison.',
                        example: '"Time is a thief."'
                    },
                    {
                        category: 'History',
                        term: 'Renaissance',
                        definition: 'The cultural rebirth that occurred in Europe from roughly the 14th through the 17th centuries, based on the rediscovery of classical philosophy, literature, and art.',
                        example: 'Leonardo da Vinci and Michelangelo were key figures of the Renaissance.'
                    }
                ]
            }
        };

        // Quiz question data
        const quizData = {
            math: [
                {
                    question: "If 2x + 5 = 15, what is the value of x?",
                    options: ["x = 3", "x = 5", "x = 7", "x = 10"],
                    correct: 1
                },
                {
                    question: "What is the square root of 144?",
                    options: ["10", "11", "12", "13"],
                    correct: 2
                },
                {
                    question: "Solve for y: 3y - 7 = 20",
                    options: ["y = 7", "y = 8", "y = 9", "y = 10"],
                    correct: 2
                },
                {
                    question: "What is 15% of 200?",
                    options: ["15", "20", "30", "45"],
                    correct: 2
                },
                {
                    question: "Simplify: (2x²)(3x³)",
                    options: ["5x⁵", "6x⁵", "6x⁶", "5x⁶"],
                    correct: 1
                }
            ],
            science: [
                {
                    question: "What is the chemical symbol for gold?",
                    options: ["Go", "Gd", "Au", "Ag"],
                    correct: 2
                },
                {
                    question: "Which planet is known as the Red Planet?",
                    options: ["Venus", "Mars", "Jupiter", "Saturn"],
                    correct: 1
                },
                {
                    question: "What is the powerhouse of the cell?",
                    options: ["Nucleus", "Mitochondria", "Ribosome", "Golgi Apparatus"],
                    correct: 1
                },
                {
                    question: "What is H₂O commonly known as?",
                    options: ["Hydrogen Peroxide", "Water", "Hydrochloric Acid", "Oxygen"],
                    correct: 1
                },
                {
                    question: "Which gas do plants absorb during photosynthesis?",
                    options: ["Oxygen", "Nitrogen", "Carbon Dioxide", "Hydrogen"],
                    correct: 2
                }
            ],
            english: [
                {
                    question: "Which of these is a synonym for 'happy'?",
                    options: ["Sad", "Joyful", "Angry", "Tired"],
                    correct: 1
                },
                {
                    question: "What is the past tense of 'run'?",
                    options: ["Running", "Ran", "Runned", "Run"],
                    correct: 1
                },
                {
                    question: "Which sentence is grammatically correct?",
                    options: [
                        "She don't like apples.",
                        "She doesn't like apples.",
                        "She not like apples.",
                        "She no like apples."
                    ],
                    correct: 1
                },
                {
                    question: "What is the literary term for giving human qualities to non-human things?",
                    options: ["Metaphor", "Simile", "Personification", "Hyperbole"],
                    correct: 2
                },
                {
                    question: "Which word is spelled correctly?",
                    options: ["Recieve", "Receive", "Recieve", "Receve"],
                    correct: 1
                }
            ]
        };

        // ========== DOM ELEMENTS ==========
        const elements = {
            // Screens
            appContainer: document.getElementById('appContainer'),
            quizScreen: document.getElementById('quizScreen'),
            resultsScreen: document.getElementById('resultsScreen'),
            profileScreen: document.getElementById('profileScreen'),
            studyScreen: document.getElementById('studyScreen'),
            progressScreen: document.getElementById('progressScreen'),
            flashcardScreen: document.getElementById('flashcardScreen'),
            
            // Navigation
            navItems: document.querySelectorAll('.nav-item'),
            profileButton: document.getElementById('profileButton'),
            backFromProfile: document.getElementById('backFromProfile'),
            backFromStudy: document.getElementById('backFromStudy'),
            backFromProgress: document.getElementById('backFromProgress'),
            
            // Dashboard elements
            statCards: document.querySelectorAll('.stat-card'),
            subjectCards: document.querySelectorAll('.subject-card'),
            seeAllSubjects: document.getElementById('seeAllSubjects'),
            seeAllTests: document.getElementById('seeAllTests'),
            
            // Test buttons
            startMathTest: document.getElementById('startMathTest'),
            startScienceTest: document.getElementById('startScienceTest'),
            startEnglishTest: document.getElementById('startEnglishTest'),
            
            // Quick actions
            quickFlashcards: document.getElementById('quickFlashcards'),
            quickProgress: document.getElementById('quickProgress'),
            
            // Quiz elements
            quizSubject: document.getElementById('quizSubject'),
            quizCounter: document.getElementById('quizCounter'),
            quizProgressBar: document.getElementById('quizProgressBar'),
            quizQuestion: document.getElementById('quizQuestion'),
            quizOptions: document.getElementById('quizOptions'),
            quizPrev: document.getElementById('quizPrev'),
            quizNext: document.getElementById('quizNext'),
            
            // Results elements
            resultsIcon: document.getElementById('resultsIcon'),
            finalScore: document.getElementById('finalScore'),
            resultsText: document.getElementById('resultsText'),
            correctAnswers: document.getElementById('correctAnswers'),
            totalQuestions: document.getElementById('totalQuestions'),
            timeSpent: document.getElementById('timeSpent'),
            reviewTest: document.getElementById('reviewTest'),
            resultsHome: document.getElementById('resultsHome'),
            
            // Study screen elements
            studyCards: document.querySelectorAll('.study-card'),
            recentAlgebra: document.getElementById('recentAlgebra'),
            recentBiology: document.getElementById('recentBiology'),
            
            // Flashcard elements
            flashcard: document.getElementById('flashcard'),
            flashcardCategory: document.getElementById('flashcardCategory'),
            flashcardTerm: document.getElementById('flashcardTerm'),
            flashcardDefinition: document.getElementById('flashcardDefinition'),
            flashcardExample: document.getElementById('flashcardExample'),
            flashcardAgain: document.getElementById('flashcardAgain'),
            flashcardFlip: document.getElementById('flashcardFlip'),
            flashcardNext: document.getElementById('flashcardNext'),
            
            // Profile menu items
            editProfile: document.getElementById('editProfile'),
            studyHistory: document.getElementById('studyHistory'),
            achievements: document.getElementById('achievements'),
            notifications: document.getElementById('notifications'),
            settings: document.getElementById('settings'),
            helpSupport: document.getElementById('helpSupport'),
            logout: document.getElementById('logout'),
            
            // Utility
            toast: document.getElementById('toast'),
            toastMessage: document.getElementById('toastMessage'),
            loadingSpinner: document.getElementById('loadingSpinner'),
            searchInput: document.getElementById('searchInput')
        };

        // ========== UTILITY FUNCTIONS ==========
        function showToast(message, type = 'info') {
            elements.toastMessage.textContent = message;
            
            // Set color based on type
            if (type === 'success') {
                elements.toast.style.backgroundColor = '#4ecdc4';
                elements.toast.querySelector('i').className = 'fas fa-check-circle';
            } else if (type === 'error') {
                elements.toast.style.backgroundColor = '#ff6b6b';
                elements.toast.querySelector('i').className = 'fas fa-exclamation-circle';
            } else {
                elements.toast.style.backgroundColor = '#4a6ee0';
                elements.toast.querySelector('i').className = 'fas fa-info-circle';
            }
            
            elements.toast.classList.add('show');
            
            setTimeout(() => {
                elements.toast.classList.remove('show');
            }, 3000);
        }

        function showLoading() {
            elements.loadingSpinner.style.display = 'flex';
        }

        function hideLoading() {
            elements.loadingSpinner.style.display = 'none';
        }

        function simulateLoading(callback, duration = 1000) {
            showLoading();
            setTimeout(() => {
                hideLoading();
                if (callback) callback();
            }, duration);
        }

        // ========== SCREEN MANAGEMENT ==========
        function showScreen(screen) {
            // Hide all screens
            elements.appContainer.style.display = 'none';
            elements.quizScreen.style.display = 'none';
            elements.resultsScreen.style.display = 'none';
            elements.profileScreen.style.display = 'none';
            elements.studyScreen.style.display = 'none';
            elements.progressScreen.style.display = 'none';
            elements.flashcardScreen.style.display = 'none';
            
            // Update app state
            appState.currentScreen = screen;
            
            // Show the requested screen
            switch(screen) {
                case 'dashboard':
                    elements.appContainer.style.display = 'block';
                    updateDashboardStats();
                    break;
                case 'quiz':
                    elements.quizScreen.style.display = 'block';
                    break;
                case 'results':
                    elements.resultsScreen.style.display = 'block';
                    break;
                case 'profile':
                    elements.profileScreen.style.display = 'block';
                    break;
                case 'study':
                    elements.studyScreen.style.display = 'block';
                    break;
                case 'progress':
                    elements.progressScreen.style.display = 'block';
                    updateProgressScreen();
                    break;
                case 'flashcards':
                    elements.flashcardScreen.style.display = 'flex';
                    updateFlashcard();
                    break;
            }
            
            // Update navigation highlighting
            elements.navItems.forEach(item => {
                if (item.getAttribute('data-screen') === screen) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }

        function updateDashboardStats() {
            // Update stat cards with current user data
            document.querySelector('#statStudyHours .stat-value').textContent = appState.currentUser.stats.studyHours;
            document.querySelector('#statAvgScore .stat-value').textContent = `${appState.currentUser.stats.avgScore}%`;
            document.querySelector('#statTopics .stat-value').textContent = appState.currentUser.stats.topicsCovered;
            document.querySelector('#statStreak .stat-value').textContent = appState.currentUser.stats.dayStreak;
        }

        function updateProgressScreen() {
            // Update progress screen with current data
            document.querySelector('.chart-score').textContent = `${appState.currentUser.stats.overallMastery}%`;
        }

        // ========== QUIZ FUNCTIONS ==========
        function startQuiz(subject) {
            // Initialize quiz state
            appState.quiz.currentQuestion = 0;
            appState.quiz.score = 0;
            appState.quiz.subject = subject;
            appState.quiz.questions = [...quizData[subject]];
            appState.quiz.userAnswers = [];
            appState.quiz.startTime = new Date();
            
            // Set quiz subject in UI
            elements.quizSubject.textContent = `${subject.charAt(0).toUpperCase() + subject.slice(1)} Test`;
            
            // Load first question
            loadQuizQuestion();
            
            // Show quiz screen
            showScreen('quiz');
        }

        function loadQuizQuestion() {
            const questionData = appState.quiz.questions[appState.quiz.currentQuestion];
            
            // Update question counter
            elements.quizCounter.textContent = `Question ${appState.quiz.currentQuestion + 1}/${appState.quiz.questions.length}`;
            
            // Update progress bar
            const progressPercentage = ((appState.quiz.currentQuestion + 1) / appState.quiz.questions.length) * 100;
            elements.quizProgressBar.style.width = `${progressPercentage}%`;
            
            // Set question text
            elements.quizQuestion.textContent = questionData.question;
            
            // Clear previous options
            elements.quizOptions.innerHTML = '';
            
            // Create new options
            questionData.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'quiz-option';
                optionElement.textContent = option;
                optionElement.dataset.index = index;
                
                // Check if user already answered this question
                const userAnswer = appState.quiz.userAnswers[appState.quiz.currentQuestion];
                if (userAnswer) {
                    if (index === userAnswer.selected) {
                        optionElement.classList.add('selected');
                        if (userAnswer.correct) {
                            optionElement.classList.add('correct');
                        } else {
                            optionElement.classList.add('incorrect');
                        }
                    }
                    if (index === questionData.correct && userAnswer.selected !== questionData.correct) {
                        optionElement.classList.add('correct');
                    }
                }
                
                optionElement.addEventListener('click', () => selectQuizOption(index));
                elements.quizOptions.appendChild(optionElement);
            });
            
            // Update button states
            elements.quizPrev.disabled = appState.quiz.currentQuestion === 0;
            elements.quizPrev.style.opacity = appState.quiz.currentQuestion === 0 ? '0.5' : '1';
            
            const isLastQuestion = appState.quiz.currentQuestion === appState.quiz.questions.length - 1;
            elements.quizNext.textContent = isLastQuestion ? 'Finish Test' : 'Next Question';
        }

        function selectQuizOption(optionIndex) {
            // Only allow selection if not already answered
            if (appState.quiz.userAnswers[appState.quiz.currentQuestion]) return;
            
            const questionData = appState.quiz.questions[appState.quiz.currentQuestion];
            const isCorrect = optionIndex === questionData.correct;
            
            // Store user answer
            appState.quiz.userAnswers[appState.quiz.currentQuestion] = {
                selected: optionIndex,
                correct: isCorrect
            };
            
            // Update score if correct
            if (isCorrect) {
                appState.quiz.score++;
            }
            
            // Update UI to show selection
            const options = elements.quizOptions.querySelectorAll('.quiz-option');
            options.forEach((option, index) => {
                option.classList.remove('selected');
                if (index === optionIndex) {
                    option.classList.add('selected');
                    if (isCorrect) {
                        option.classList.add('correct');
                    } else {
                        option.classList.add('incorrect');
                    }
                }
                if (index === questionData.correct && !isCorrect) {
                    option.classList.add('correct');
                }
            });
            
            // Automatically move to next question after delay
            setTimeout(() => {
                if (appState.quiz.currentQuestion < appState.quiz.questions.length - 1) {
                    appState.quiz.currentQuestion++;
                    loadQuizQuestion();
                } else {
                    finishQuiz();
                }
            }, 1500);
        }

        function finishQuiz() {
            // Calculate time spent
            const endTime = new Date();
            const timeDiff = (endTime - appState.quiz.startTime) / 1000; // in seconds
            const minutes = Math.floor(timeDiff / 60);
            const seconds = Math.floor(timeDiff % 60);
            const timeFormatted = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            // Calculate score percentage
            const scorePercentage = Math.round((appState.quiz.score / appState.quiz.questions.length) * 100);
            
            // Update results screen
            elements.finalScore.textContent = `${scorePercentage}%`;
            elements.correctAnswers.textContent = appState.quiz.score;
            elements.totalQuestions.textContent = appState.quiz.questions.length;
            elements.timeSpent.textContent = timeFormatted;
            
            // Update results text based on score
            let resultsText = '';
            let iconColor = '';
            if (scorePercentage >= 80) {
                resultsText = 'Excellent! You aced the test!';
                iconColor = '#ffd166'; // Gold
            } else if (scorePercentage >= 60) {
                resultsText = 'Great job! You passed the test.';
                iconColor = '#4ecdc4'; // Teal
            } else {
                resultsText = 'Keep practicing! You\'ll do better next time.';
                iconColor = '#ff6b6b'; // Red
            }
            
            elements.resultsText.textContent = resultsText;
            elements.resultsIcon.style.background = `linear-gradient(135deg, ${iconColor}, ${iconColor}99)`;
            
            // Update user stats
            appState.currentUser.stats.avgScore = Math.round(
                (appState.currentUser.stats.avgScore + scorePercentage) / 2
            );
            appState.currentUser.stats.studyHours += 0.5; // Add 30 minutes for the test
            
            // Show results screen
            showScreen('results');
            showToast(`Test completed! You scored ${scorePercentage}%`, 'success');
        }

        // ========== FLASHCARD FUNCTIONS ==========
        function updateFlashcard() {
            const card = appState.flashcards.cards[appState.flashcards.currentIndex];
            
            elements.flashcardCategory.textContent = card.category;
            elements.flashcardTerm.textContent = card.term;
            elements.flashcardDefinition.textContent = card.definition;
            elements.flashcardExample.textContent = card.example;
            
            // Reset card flip state
            elements.flashcard.classList.remove('flipped');
        }

        function nextFlashcard() {
            appState.flashcards.currentIndex++;
            if (appState.flashcards.currentIndex >= appState.flashcards.cards.length) {
                appState.flashcards.currentIndex = 0;
                showToast('You\'ve reviewed all flashcards! Starting over.', 'info');
            }
            updateFlashcard();
        }

        function previousFlashcard() {
            appState.flashcards.currentIndex--;
            if (appState.flashcards.currentIndex < 0) {
                appState.flashcards.currentIndex = appState.flashcards.cards.length - 1;
            }
            updateFlashcard();
        }

        // ========== EVENT LISTENERS ==========
        // Navigation
        elements.navItems.forEach(item => {
            item.addEventListener('click', () => {
                const screen = item.getAttribute('data-screen');
                simulateLoading(() => showScreen(screen));
            });
        });

        elements.profileButton.addEventListener('click', () => {
            simulateLoading(() => showScreen('profile'));
        });

        elements.backFromProfile.addEventListener('click', () => {
            simulateLoading(() => showScreen('dashboard'));
        });

        elements.backFromStudy.addEventListener('click', () => {
            simulateLoading(() => showScreen('dashboard'));
        });

        elements.backFromProgress.addEventListener('click', () => {
            simulateLoading(() => showScreen('dashboard'));
        });

        // Test buttons
        elements.startMathTest.addEventListener('click', () => {
            simulateLoading(() => startQuiz('math'), 500);
        });

        elements.startScienceTest.addEventListener('click', () => {
            simulateLoading(() => startQuiz('science'), 500);
        });

        elements.startEnglishTest.addEventListener('click', () => {
            simulateLoading(() => startQuiz('english'), 500);
        });

        // Quick actions
        elements.quickFlashcards.addEventListener('click', () => {
            simulateLoading(() => showScreen('flashcards'), 500);
        });

        elements.quickProgress.addEventListener('click', () => {
            simulateLoading(() => showScreen('progress'), 500);
        });

        // Subject cards
        elements.subjectCards.forEach(card => {
            card.addEventListener('click', () => {
                const subject = card.getAttribute('data-subject');
                showToast(`Opening ${subject} study materials`, 'info');
                simulateLoading(() => showScreen('study'), 500);
            });
        });

        // See all buttons
        elements.seeAllSubjects.addEventListener('click', () => {
            showToast('Showing all subjects', 'info');
            simulateLoading(() => showScreen('study'), 500);
        });

        elements.seeAllTests.addEventListener('click', () => {
            showToast('Showing all available tests', 'info');
            // In a real app, this would filter to show all tests
        });

        // Quiz navigation
        elements.quizPrev.addEventListener('click', () => {
            if (appState.quiz.currentQuestion > 0) {
                appState.quiz.currentQuestion--;
                loadQuizQuestion();
            }
        });

        elements.quizNext.addEventListener('click', () => {
            // Check if current question is answered
            if (!appState.quiz.userAnswers[appState.quiz.currentQuestion]) {
                showToast('Please select an answer before proceeding', 'error');
                return;
            }
            
            if (appState.quiz.currentQuestion < appState.quiz.questions.length - 1) {
                appState.quiz.currentQuestion++;
                loadQuizQuestion();
            } else {
                finishQuiz();
            }
        });

        // Results screen buttons
        elements.reviewTest.addEventListener('click', () => {
            showToast('Review feature would show detailed answer explanations', 'info');
            // In a real app, this would navigate to a review screen
        });

        elements.resultsHome.addEventListener('click', () => {
            simulateLoading(() => showScreen('dashboard'), 500);
        });

        // Study screen cards
        elements.studyCards.forEach(card => {
            card.addEventListener('click', () => {
                const cardId = card.id;
                let message = '';
                
                switch(cardId) {
                    case 'flashcards':
                        simulateLoading(() => showScreen('flashcards'), 500);
                        return;
                    case 'videoLessons':
                        message = 'Opening video lessons library';
                        break;
                    case 'practiceQuestions':
                        message = 'Loading practice questions database';
                        break;
                    case 'mockExams':
                        message = 'Accessing mock exams';
                        break;
                }
                
                showToast(message, 'info');
                simulateLoading(() => {
                    // In a real app, this would navigate to the specific feature
                    showToast(`${message} loaded successfully!`, 'success');
                }, 1000);
            });
        });

        // Recent study sessions
        elements.recentAlgebra.addEventListener('click', () => {
            showToast('Continuing Algebra study session', 'info');
            simulateLoading(() => {
                // In a real app, this would resume the study session
                showScreen('dashboard');
                showToast('Algebra session resumed', 'success');
            }, 800);
        });

        elements.recentBiology.addEventListener('click', () => {
            showToast('Reviewing Biology: Cell Structure', 'info');
            simulateLoading(() => {
                // In a real app, this would open the review
                showScreen('dashboard');
                showToast('Biology review loaded', 'success');
            }, 800);
        });

        // Flashcard controls
        elements.flashcard.addEventListener('click', () => {
            elements.flashcard.classList.toggle('flipped');
        });

        elements.flashcardFlip.addEventListener('click', () => {
            elements.flashcard.classList.toggle('flipped');
        });

        elements.flashcardAgain.addEventListener('click', () => {
            showToast('Card marked for review', 'info');
            // In a real app, this would mark the card for repetition
        });

        elements.flashcardNext.addEventListener('click', () => {
            nextFlashcard();
        });

        // Profile menu items
        elements.editProfile.addEventListener('click', () => {
            showToast('Edit Profile feature would open here', 'info');
        });

        elements.studyHistory.addEventListener('click', () => {
            showToast('Loading study history...', 'info');
            simulateLoading(() => {
                showToast('Study history loaded', 'success');
            }, 800);
        });

        elements.achievements.addEventListener('click', () => {
            showToast('Opening achievements panel', 'info');
            simulateLoading(() => {
                showToast('You have 12 achievements unlocked!', 'success');
            }, 800);
        });

        elements.notifications.addEventListener('click', () => {
            showToast('You have 3 unread notifications', 'info');
            // In a real app, this would show notifications
        });

        elements.settings.addEventListener('click', () => {
            showToast('Opening app settings', 'info');
            // In a real app, this would open settings
        });

        elements.helpSupport.addEventListener('click', () => {
            showToast('Opening help & support', 'info');
            // In a real app, this would open help
        });

        elements.logout.addEventListener('click', () => {
            if (confirm('Are you sure you want to log out?')) {
                simulateLoading(() => {
                    showToast('You have been logged out successfully', 'success');
                    // In a real app, this would navigate to login screen
                    setTimeout(() => {
                        showScreen('dashboard');
                    }, 1000);
                }, 800);
            }
        });

        // Search functionality
        elements.searchInput.addEventListener('keyup', function(e) {
            if (e.key === 'Enter') {
                const searchTerm = this.value.trim();
                if (searchTerm) {
                    showToast(`Searching for: "${searchTerm}"`, 'info');
                    simulateLoading(() => {
                        showToast(`Found 15 results for "${searchTerm}"`, 'success');
                        this.value = '';
                    }, 800);
                }
            }
        });

        // Stat cards
        elements.statCards.forEach(card => {
            card.addEventListener('click', () => {
                const statId = card.id;
                let message = '';
                
                switch(statId) {
                    case 'statStudyHours':
                        message = 'Viewing detailed study hours breakdown';
                        break;
                    case 'statAvgScore':
                        message = 'Viewing score history and trends';
                        break;
                    case 'statTopics':
                        message = 'Viewing all covered topics';
                        break;
                    case 'statStreak':
                        message = 'Viewing streak calendar and history';
                        break;
                }
                
                showToast(message, 'info');
            });
        });

        // Progress detail cards
        document.querySelectorAll('.detail-card').forEach(card => {
            card.addEventListener('click', () => {
                const cardId = card.id;
                let message = '';
                
                switch(cardId) {
                    case 'detailTopics':
                        message = 'Viewing detailed topic breakdown';
                        break;
                    case 'detailHours':
                        message = 'Viewing study hours distribution';
                        break;
                    case 'detailTests':
                        message = 'Viewing test history and results';
                        break;
                    case 'detailStreak':
                        message = 'Viewing streak details and milestones';
                        break;
                }
                
                showToast(message, 'info');
            });
        });

        // ========== INITIALIZATION ==========
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize the app
            showScreen('dashboard');
            
            // Show welcome message
            setTimeout(() => {
                showToast('Welcome to ExamPrep Pro! Ready to study?', 'success');
            }, 1000);
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                // Escape key goes back to dashboard
                if (e.key === 'Escape' && appState.currentScreen !== 'dashboard') {
                    showScreen('dashboard');
                }
                
                // Number keys 1-4 for navigation
                if (e.key >= '1' && e.key <= '4' && !e.ctrlKey && !e.altKey) {
                    const screens = ['dashboard', 'study', 'progress', 'profile'];
                    const index = parseInt(e.key) - 1;
                    if (screens[index]) {
                        showScreen(screens[index]);
                    }
                }
            });
        });
    </script>
</body>
</html>
